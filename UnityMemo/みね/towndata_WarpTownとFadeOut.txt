2021/09/21　更新メモ
ーーーーーーーーーーーーーーーーーーー
WarpTown.cs

・街中ワープ専用
WarpInTownにアタッチしてください

・関連オブジェクト
WarpCanvas（Canvas）
WarpInTown（Object）
WarpOut（Object）

ーーーーーーーーーーーーーーーーーーー
public Canvas warpCanvasにはWarpCanvasをアタッチ
ーーーーーーーーーーーーーーーーーーー
・public変数を減らすためにGameObject.Find()を使い
オブジェクト、スクリプトを名前で探す
※Findは重いため1変数につき1回しか処理が入らないようにしたほうが良い

WarpField.csはWarpOutから

CameraMng.csはCameraControllerから

・長針画像
WarpCanvas-WarpImageBack-長針画像
WarpCanvasからChiledのWarpImageBackを探して
WarpImageBackのCiledrenから長針画像を検索している
長針画像の親であるWarpImageBackをpublicで取得しているため
ーーーーーーーーーーーーーーーーーーー

・街中で選べるワープ先
　ユニの家の前
　噴水前
　十字路
　フィールド（町の外に出る）

・ワープ先を選ぶ
Spaceキー押下で選択可能
ワープ選択中とワープ先決定がSpaceキーなので
キー処理が連続しないように0.5秒後に長針を動かせるようにしてる。
ワープ選択中とわかるためにワープ先表示画像の背景の色を変更（△画像差し替え処理に変わりそう）
ユニちゃんを移動不可にする
左右の矢印キーで長針のZ軸を回転させ指している先がワープ先

上下の矢印キーでワープキャンセル

表示は左から[HOUSE,FOUNTAIN,CROSS, FIELD]
private enum warp{	長針が指す配列での割り当て場所
        NON,    		 // -1
        HOUSE,   		 // 0ユニの家
        FOUNTAIN, 		 // 1噴水前
        CROSS,   		 // 2十字路
        FIELD,   		 // 3フィールド
        MAX    		 // 最大値
}

Hierarchyでは
WarpInTown
ーWarpUniHouse
ーWarpFountain
ーWarpCrossroad
ーUniHouseCollider
街中でのワープ先が[WarpHouse,WarpFountain,WarpCrossroad]
Fieldは街中でのワープではないため

warpChildren_ = new GameObject[(int)warp.MAX - 1];
for (int i = (int)warp.HOUSE; i < (int)warp.MAX - 1; i++)
 {
	warpChildren_[i] = warpInTown_.transform.GetChild(i).gameObject;
}
最大値-1をしてワープ先の数を合わせている

｜ーーーHOUSE選択時
ユニの家の前に移動
移動先はWarpHouseオブジェクト
ワープを選択してない状態にしてユニが移動可能になる

｜ーーーFOUNTAIN選択時
噴水前に移動
移動先はWarpFountainオブジェクト
ワープを選択してない状態にしてユニが移動可能になる

｜ーーーCROSS選択時
十字路に移動
移動先はWarpCrossオブジェクト
ワープを選択してない状態にしてユニが移動可能になる

｜ーーーFIELD選択時
町の外にフィールド選択画面を表示
町中のワープ先選択にならないように
長身を動かないようにして、街中ワープ先背景の色を変更している。
Field選択の処理はWarpField.cs内に記載

ーーーーーーーーーーーーーーーーーーー

・移動先が決定したらdecisionFlag_をtrueに
trueにすることでUpdata内でフェードアウトを毎フレーム呼ぶ。

・FadeOut
街中でのワープ先を選んだときのみアルファ値を増加。
その際にユニを非表示に。
ーパネル非表示
アルファ値が1.0fを超えたらアルファ値を0.0fに戻して（非表示ではない）フェードアウトを終了
その際にユニも表示状態に戻している。

ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー

・サブカメラ状態のときにワープした場合
サブカメラとメインカメラのアクティブ状態を入れ替え
MainCameraの初期座標を保存し
ワープした先の座標+MainCameraの初期座標をしてMainCameraの位置を調節
※Y座標をユニが行動するときの座標に合わせないと上から降ってる来る感じになる
　その際に移動したらちょっと浮かんでいる状態でユニが移動するから注意

ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー

・ユニ、ゴーホーム
ユニ家の前に家に入る用の当たり判定を設置
Colliderに前後があるのか、UniHouseCollider-RotateYが90だと当たり判定を行わないため
RotateYが『-90』になっているかを確認する。

！！！！！！！！！現在は座標指定だがシーン移動に変更する。！！！！！！！！！！
FadeOut
街中ワープでのみフェードアウトする

FadeOut用のパネルを作成
街中でのワープ先を選んだときのみアルファ値を増加。
その際にユニを非表示に。
アルファ値が1.0fを超えたらアルファ値を0.0fに戻しています（非表示ではない）
ユニも表示に変更しています

また、サブカメラに切り替わってる状態で街中ワープをされたら
事前に保存しておいたメインカメラとユニの座標差を
ワープ先のゲームオブジェクト座標に加算することで間隔を戻しています。

//---------------------------------------------------------------

・追加したもの
Warp（Script）
WarpPointMng（Object） 　
FieldCanvas（Object）
WarpCanvas（Object）

・Unpackするもの
towndataSceneに追加するためにPrefab化させているだけなのでUnpackしてください
WarpPointMng	座標は（0，0，100）
FieldCanvas
WarpCanvas

・WarpScriptアタッチ先
WarpPointMng
	CameraMngーCameraControllerについている『CameraMng』Script
	UniChan-Uniオブジェクト
	WarpActiveーWarpCanvasにある『WarpImageBack』
	FieldCanvasー『FieldCanvas』

ーーーーーーーーーーーーーーーーーーー

「△」はたぶん後で変更する場所

・街中でのワープ先を追加
ユニの家の前（△たぶんユニの家の中になる）
噴水前
十字路
十字路左端
十字路右端

ーーーーーーーーーーーーーーーーーーー

・長針画像
長針画像の親であるWarpImageBackをpublicで取得しているため
needleImage = WarpActive.transform.Find("Needle").GetComponent<Image>()
で探す
※Findは重いため1回しか処理が入らないような場所に書いたほうが良い

ーーーーーーーーーーーーーーーーーーー

・ワープ先を選ぶ
Spaceキー押下で選択可能
Spaceキー処理が連続しないように0.5秒後に長針を動かせるようにしてる
ワープ選択中とわかるためにワープ先表示画像の背景の色を変更（△画像差し替え処理に変わりそう）
ユニちゃんを移動不可にする（△アニメーションが続くから何とかする）
左右の矢印キーで長針のZ軸を回転させ指している先がワープ先
また、ワープ先選択もSpaceキー押下

上下の矢印キーでワープキャンセル

表示は左から[HOUSE,FOUNTAIN,CROSS, FIELD]
    private enum warp
    {
        NON,    	 // 0
        HOUSE,   	 // 1ユニの家
        FOUNTAIN, 	 // 2噴水前
        CROSS,   	 // 3十字路
        FIELD,   	 // 4フィールド
        MAX    	 // 5
    }

Hierarchyでは
WarpPointMng
ーNon（空のオブジェクト）
ーWarpUniHouse
ーWarpFountain
ーWarpCross 
ーWarpRightField 
ーWarpLeftField
街中でのワープ先が[WarpHouse,WarpFountain,WarpCross]
フィールドに出るが[WarpRightField,WarpLeftField]
だがワープ先でFieldに出るかの選択肢が含まれるため

warpChildren_ = new GameObject[(int)warp.MAX - 1];
for (int i = (int)warp.NON; i < (int)warp.MAX - 1; i++)
{
	warpChildren_[i] = this.transform.GetChild(i).gameObject;
}
最大値-1をしてワープ先の数を合わせている
WarpPointMng		長針が指す配列での割り当て場所
ーNon（空のオブジェクト）     	// 0　NON
ーWarpUniHouse   		// 1ユニの家
ーWarpFountain 		// 2噴水前
ーWarpCross    		// 3十字路
ーWarpRightField		// 4フィールド
ーWarpLeftField    		// 5　MAX

｜ーーーHOUSE選択時
ユニの家の前に移動
移動先はWarpHouseオブジェクト
ワープを選択してない状態にしてユニが移動可能になる

｜ーーーFOUNTAIN選択時
噴水前に移動
移動先はWarpFountainオブジェクト
ワープを選択してない状態にしてユニが移動可能になる

｜ーーーCROSS選択時
十字路に移動
移動先はWarpCrossオブジェクト
ワープを選択してない状態にしてユニが移動可能になる


｜ーーーFIELD選択時
移動可能なFiled先を表示するFieldCanvasを有効状態にする
Spaceキー処理が連続しないように0.5秒後に長針を動かせるようにしてる
ScriptではWarpからの使用しているため1.0fを超えたらになっている
上下の矢印キーで移動先変更
移動先決定はSpaceキー押下

Cansel選択、Spaceキー押下で移動キャンセルができる

表示は上から[FIELD1, FIELD2,CANCEL]
Scriptは[NON,FIELD1,FIELD2,CANCEL,MAX]の順
フィールドは今後も増える可能性がある。MAXの前にキャンセルが来るようにしている
Hierarchyでは
FieldCanvas
ーNon（空のオブジェクト）
ーField0
ーField1
ーCancel
こちらでは個数が合っているため
choiceField_ = new Image[(int)field.MAX];
for (int i = (int)field.NON; i < (int)field.MAX; i++)
{
	choiceField_[i] = fieldCanvas.transform.GetChild(i).GetComponent<Image>();
}
で処理している

選択中のImageは色が変わるようにしている（△ぴこぴこ動く三角とかフレームに変えるかも）
ただNONは選択しないように色変更では
        for (int i = (int)field.NON + 1; i < (int)field.MAX; i++)
をして　i　の初期値をずらしている

Field1，2を選んだ場合は
SceneBuildで
0　towndata
1　unitydata
にしたらunitydataに飛べるようになる
※ユニの歩くスピードは変わらないので注意
ーーーーーーーーーーーーーーーーーーーーーーーーーーーーーー

・サブカメラ状態のときにワープした場合
サブカメラとメインカメラのアクティブ状態を入れ替え
MainCameraの初期座標を保存し
ワープした先の座標+初期座標をしてMainCameraの位置を調節

